---
layout:     post
title:      JAVA中的引用
subtitle:   强引用、软引用、弱引用、幻想引用
date:       2018-11-08
author:     zwilpan
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - JAVA
---
## 强引用
强引用就是我们普通对象的引用，只要还有一个强引用指向，就能表明对象还活着，垃圾收集器不会碰这些对象。对于一个普通的对象，如果没有其他的引用关系，只要超过了引用的作用域或者显式的将相应引用赋值为null,就可以被垃圾收集了，当然具体回收时机还要看垃圾收集策略

## 软引用
软引用是一种相对强引用弱化的一些引用，可以让对象豁免一些垃圾收集，只有当JVM认为内存不足时，才会试图回收引用指向的对象。JVM会确保在OOM之前，清理软引用指向的对象。软引用通常用来实现内存敏感的缓存，如果还有空闲内存，就可以暂时保留缓存，但内存不足时清理，这样就保证了使用缓存的同时，不会耗尽内存

## 弱引用
弱引用并不能使对象豁免垃圾收集，仅仅是提供一种访问在弱引用状态下对象的途径。这样就可以用来构建一种没有特定约束的关系，比如，维护一种非强制性的映射关系，如果试图获取对象还在，就是用它，否则重新实例化。它同样是很多缓存实现的选择

## 幻象引用
幻象引用，也叫虚引用，不能通过它访问对象，幻象引用仅仅是提供了一种确保对象被finalize以后，做某些事情的机制，比如，通常用来做所谓的Post-Mortem清理机制，也可以利用幻象引用用来监控对象的创建和销毁
