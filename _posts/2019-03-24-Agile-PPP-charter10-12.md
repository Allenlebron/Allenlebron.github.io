---
layout:     post
title:      Agile-PPP-charter10 - 12
subtitle:   第10 - 12章
date:       2019-03-24
author:     zwilpan
header-img: img/post-bg-debug.png
catalog: true
tags:
    - 读书笔记
---


## 敏捷软件开发读书笔记（第 10 - 12 章）

 + 这几章分别讲的是里氏替换原则（LSP）、依赖倒置原则（DIP）、接口隔离原则（ISP）
 
### 里氏替换原则（LSP）

+ 通俗来讲：子类可以扩展父类的功能，但是不是不能改变父类原有的功能  
子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法。  
子类中可以增加自己特有的方法。  
当子类的方法重载父类的方法时，方法的前置条件（即方法的形参）要比父类方法的输入参数更宽松。  
当子类的方法实现父类的抽象方法时，方法的后置条件（即方法的返回值）要比父类更严格。

### 依赖倒置原则（DIP）

+ 高层模块不应该依赖底层模块，二者应该依赖其抽象：抽象不应该依赖细节，细节应该依赖抽象 
低层模块尽量都要有抽象类或接口，或者两者都有。  
变量的声明类型尽量是抽象类或接口。  
使用继承时遵循里氏替换原则。  
依赖倒置原则的核心是面向接口编程

+ 典型的java web案例：用户请求到达服务器以后，最先处理用户请求的是java web容器tomcat、jetty
通过监听80端口，把HTTP二进制流封装成Request对象，然后是SpringMvc对象，将Request对象中的参数提取出来
根据请求的url分发给相应的Model对象处理，再给我们的应用程序处理用户请求  

+ 根据这个例子，Tomcat相对于SpringMvc就是高层模块，SpringMvc相对于应用程序就是高层模块，但是Tomcat并没有直接  
依赖SpringMVC模块，去可以调用SpringMVC。是因为Tomcat和SpringMvc都是依赖J2EE的规范，SpringMvc实现了J2EE规范的  
HttpServlet抽象类，即DispatcherServlet,并配置在web.xml中。这样Tomcat就是可以通过DispacherSerlvet处理用户请求  

### 接口隔离原则（ISP）

+ 客户端不应该依赖它不需要的接口；一个类对另一个类的依赖应该建立在最小的接口上  
接口尽量小，但是要有限度。对接口进行细化可以提高程序设计灵活性是不挣的事实，但是如果过小，则会造成接口数量过多，使设计复杂化。所以一定要适度。  
为依赖接口的类定制服务，只暴露给调用的类它需要的方法，它不需要的方法则隐藏起来。只有专注地为一个模块提供定制服务，才能建立最小的依赖关系。  
提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情。
