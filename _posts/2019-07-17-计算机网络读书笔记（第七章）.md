---
layout:     post
title:      计算机网络读书笔记七
subtitle:   自定向下
date:       2019-07-17
author:     zwilpan
header-img: img/post-bg-debug.png
catalog: true
tags:
    - 读书笔记
---

## 计算机网络读书笔记（第 7 章）

## 网络安全

计算机网络面临的安全性威胁

(1) 截获——从网络上窃听他人的通信内容。(被动攻击)

(2) 中断——有意中断他人在网络上的通信。

(3) 篡改——故意篡改网络上传送的报文。

(4) 伪造——伪造信息在网络上传送。

 

被动攻击和主动攻击

在被动攻击中，攻击者只是观察和分析某一个协议数据单元 PDU 而不干扰信息流。

主动攻击是指攻击者对某个连接中通过的 PDU 进行各种处理。

 

恶意程序(rogue program)

(1) 计算机病毒——会“传染”其他程序的程序，“传染”是通过修改其他程序来把自身或其变种复制进去完成的。

(2) 计算机蠕虫——通过网络的通信功能将自身从一个结点发送到另一个结点并启动运行的程序。

(3) 特洛伊木马——一种程序，它执行的功能超出所声称的功能。

(4) 逻辑炸弹——一种当运行环境满足某种特定条件时执行其他特殊功能的程序。


如何查看木马程序   
+ 查看会话 netstat -nb 是否有可疑会话 
+ 在开始的运行中输入msconfig 查看服务， 然后隐藏微软服务，看看剩下的服务 
+ 安装杀毒软件

对称加密 
对称加密是指加密密钥与解密密钥是相同的密码体制。这种加密系统又称为对称密钥系统。 
优点是加密效率高，速度快，缺点是秘钥需要双方先协商好，秘钥不适合在网上传输（在网上传输有被人截获的可能）；每两个人就得用一种秘钥，如果人数多的话秘钥也多，维护起来麻烦。

数据加密标准 DES 
DES是世界上第一个公认的实用密码算法标准，它曾对密码学的发展做出了重大贡献。它属于常规密钥密码体制，是一种分组密码。 
在加密前，先对整个明文进行分组。每一个组长为64位。然后对每一个64位二进制数据进行加密处理，产生一组64位密文数据。最后将各组密文串接起来，即得出整个的密文。 
使用的密钥为64位（实际密钥长度为56位，有8位用于奇偶校验)。 
DES的保密性仅取决于对密钥的保密，而算法是公开的。尽管人们在破译DES方面取得了许多进展，但至今仍未能找到比穷举搜索密钥更有效的方法。 
目前较为严重的问题是DES的密钥的长度。56位密钥破解，需要3.5或21分钟，而128位密钥破解，需要5.4*10的18次方年，因此目前来看还是比较安全的。

非对称加密 
非对称，顾名思义，加密秘钥和解密秘钥是不同的。加密和解密是一对密钥对，即公钥和私钥。秘钥成对使用，用公钥加密私钥解密或者用私钥加密公钥解密。公钥不能解公钥。这种方式的好处是，只要私钥自己保存好，公钥随便让别人用也没事。例如，A要求B,C,D给他发加密邮件。A只需把自己的公钥发给B,C,D，让他们用公钥加密，自己收到后用私钥解开。而B,C,D之间虽然都有公钥却破解不开。这就是比对称加密更好的地方。

对称和非对称的结合加密 
非对称加密虽然更安全，更方便管理，但是有一个缺点，就是加密速度慢，效率低。我们可以利用对称和非对称的优点相结合来加密。例如，A需要B把一部电影加密后传过来。A把自己的公钥给了B，但是B先用一个对称秘钥来加密电影（假设对称秘钥为123），然后B再用A的公钥把对称秘钥123加密，由于这只是很短的字符串所以加密速度很快。A收到以后，先用私钥破解出123，再用123破解电影。

数字签名 
计算机世界里的数字签名，和现实世界里的纸质签名的作用是一样的，如果用来签合同，具有法律效益。假设A给B签了一份电子版合同，签名需要用A的私钥签名，B拿着这份合同就有了保障，防止A毁约。因为只要A想要改合同，B就可以拿着A原来带有私钥的合同去法院起诉。数字签名可以防止抵赖；还能够检查签名之后内容是否被更改，内容如果更改则签名失效。有些软件在安装时会提醒签名失效，这就说明此软件已经被被人篡改过，里面可能有病毒。

数字签名过程： 
 
如图所示，A需要给B发一份电子合同文件。首先，把合同用一个专用函数进行处理，不管源文件有多大，处理结束后都会生成一个128位的二进制，称为“摘要”。再用A的私钥把摘要进行加密，这个加密后的摘要，就叫A的数字签名。然后A把签名、公钥和源合同文件一起打包发送给B。B收到以后，如何判断合同没有被更改？首先B用A的公钥把摘要破解，得到原摘要；B再用同一个专用函数处理合同文件，又得到一个摘要；比较A送来的摘要和自己得到的摘要，如果相同，则说明合同未被篡改。因为一旦A改了合同，用函数处理过的摘要都会有改变。 
数字签名的作用，不是为了保密，而是为了证明是谁签了名，并且保证未被更改。

证书颁发机构CA 
A把自己的公钥给了B，那么B为什么相信这是你的公钥呢？这需要一个大家都信任的官方机构，来统一颁布管理各个企业的基本信息以及公私钥。 
 
证书颁发机构作用：为企业和用户颁发数字证书，确认这些企业和个人的合法身份；发布证书吊销列表（证书丢了的话冻结证书并公开）；企业和个人信任证书颁发机构。

加密和数字签名的区别 
加密是发送文件之前用对方公钥进行加密，对方收到后用自己的私钥解密；而数字签名是发送文件之前用自己的私钥加密，对方收到后用自己的公钥解密。

##  安全套接字SSL层
 
位于传输层和应用层之间。 
在发送方，SSL 接收应用层的数据（如 HTTP 或 IMAP 报文），对数据进行加密，然后把加了密的数据送往 TCP 套接字。在接收方，SSL 从 TCP 套接字读取数据，解密后把数据交给应用层。

使用SSL的常见应用 
我们在上网的时候，一般的网页使用的是http协议，然而一旦涉及到输入账号和密码的网页，立马用到https协议；或者在网上发邮件收邮件，都用https协议，避免信息被他人捕获。https协议就是用了SSL加密。

SSL是如何实现的？ 
为了提高加密效率和更加安全，SSL应用的是上面所讲的对称和非对称的结合。假如一浏览器访问一服务器，服务器首先把自己的公钥给浏览器，然后浏览器产生一个对称秘钥如123，先用123加密数据，再用公钥加密123，一起发给服务器。服务器收到后，先用私钥得到123，再用123解密数据。这是浏览器和服务器第一次通信的情况。以后的通信，都用123这个对称秘钥，就不用非对称加密了。简言之，私钥的作用就是为了客户端能安全地把对称秘钥送到服务器，否则如果客户端直接发给服务端，容易被别人捕获。

SSL的三种功能 
(1)SSL服务器鉴别：允许用户证实服务器的身份。具有SSL功能的浏览器维持一个表，上面有一些可信赖的认证中心CA (Certificate Authority)和它们的公钥。浏览器访问一个网站，会用该网站的证书来验证是不是真的网站。 
(2) 加密的SSL会话：客户和服务器交互的所有数据都在发送方加密，在接收方解密。 
(3) SSL客户鉴别：允许服务器证实客户的身份。服务器也可以要求用用户的证书证明用户的身份。

其他使用SSL的安全协议   
imaps=TCP+993   
pop3s=TCP+995   
smtps=TCP+465   
https=TCP+443
