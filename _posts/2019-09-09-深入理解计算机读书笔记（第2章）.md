---
layout:     post
title:      CSAPP读书笔记二
subtitle:   信息的表示和处理
date:       2019-09-09
author:     zwilpan
header-img: img/post-bg-debug.png
catalog: true
tags:
    - 读书笔记
---

## 深入理解计算机读书笔记（第 2 章）



### 信息的表示和处理

计算机将信息编码为位（比特），通常组织成字节序列。有不同的编码方式来表示整数、实数和
字符串。不同的计算机模型在编码数字和多字节数据中的字节顺序时使用不同的约定。

1、可以利用数字的算数右移，然后利用0XFF这样的数字做掩码运算，可以获取到一个数字的符号位。计算机的移位运算有一种很重要的作用就是利用掩码运算去提取一个位模式的一段信息。

2、在C语言中的条件语句，以及三目的条件运算符，都可以用移位的方式来做。

3、在进行位扩展操作的时候，比较讲一个32位的有符号数扩展到64位，那么在保证原来的值不变的情况下，把31个低位扩展到64位的低位上，而最高的符号位扩展到高33位上。

4、利用位模式仅仅只能表示一些2的n次幂的一些浮点数，其他的比较特殊的有理数，会近似表示

5、因为使用了标准的浮点数形式，所以在存储浮点数位数的时候，都不会存储浮点数的整数部分，因为我们都已经规定了浮点数的整数部分是1，所以就没有必要存储，只存下小数点后面的尾数即可。

6、浮点数规格化的值，也就是标准形式我们已经知道是什么情况了，那么在运算的过程当中，出现一些特殊的值，或者说是错误的值我们怎么处理呢。

0.0 此时OS会把符号位，尾数，阶码全都变为0

当阶码都为1的时候，如果尾数全为0，那么我们就要看符号位，如果符号位为1，那么就是负无穷。如果符号位为0那么就是正无穷。

当尾数不是0的时候，那么他就不是一个有效的数字，用NaN来代替，思议就是not a number。这个值也很有用，用于一些非法的计算结果，比如对-1开方。

7、因为在浮点数的补码里面，全为0或者全为1的时候表示的是一些特殊值，所以在表述整场浮点数值的时候就不能用这些，所以为了弥补这些误差，用了一个偏差值Bias.利用exp(阶码的位表示) - Bias获取真正的浮点数的阶码值。

Bias的范围是1-2^（k-1） - 1， k就是阶码的尾数，阶码尾数应该因为机器的关系也是固定的。

之所以加入了一个Bias,一开始看书的时候我没看懂，后来看视频的时候我才明白，因为无论是在单精度还是在双精度的数值中，你的指数是应该能够表示负数的，因为阶码存储在符号位和尾数的中间，所以阶码是一个无符号数，如果是单精度的话，阶码一共有8位，那么所能表示的值就是1---254，这样的话，为了能够表示负的指数，就要减掉Bias，这样就能够表示-126~127的范围的指数。
